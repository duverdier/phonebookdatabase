{"version":3,"sources":["components/Persons.js","services/PersonService.js","components/Notification.js","App.js","index.js"],"names":["Persons","person","handledelete","id","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","delete","Notification","message","className","App","useState","persons","setPersons","newPersons","setNewPersons","newNumber","setNewNumber","successMessage","setSuccessMessage","useEffect","PersonService","initialNotes","people","slice","index","findIndex","n","find","splice","window","confirm","returnedNote","map","setTimeout","catch","error","console","log","onSubmit","event","preventDefault","concat","value","onChange","target","type","i","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAeeA,EAbC,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,aAAcC,EAAS,EAATA,GAErC,OACE,gCACGF,EAAOG,KADV,IACiBH,EAAOI,OACtB,wBACAC,QAAS,kBAAMJ,EAAaC,IAD5B,wB,gBCNFI,EAAU,eAiBD,EAfA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALG,SAACT,GAEjB,OADgBK,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BJ,IAC5BO,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCD1BI,EAZI,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,UAAf,SACGD,KCiGME,EArGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEoBF,mBAAS,IAF7B,mBAETG,EAFS,KAEGC,EAFH,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAI4BN,mBAAS,MAJrC,mBAITO,EAJS,KAIOC,EAJP,KAMhBC,qBAAU,WACRC,IAECpB,MAAK,SAAAqB,GACJT,EAAWS,QAEZ,IAEH,IA8BM7B,EAAe,SAACC,GACpB,IAAM6B,EAASX,EAAQY,QACnBC,EAAQb,EAAQc,WAAU,SAAAC,GAAC,OAAIA,EAAEjC,KAAOA,KACtCF,EAASoB,EAAQgB,MAAK,SAAAD,GAAC,OAAIA,EAAEjC,KAAOA,KACtC+B,GAAS,IACRF,EAAOM,OAAOJ,EAAO,GACjBK,OAAOC,QAAP,iBAAyBvC,EAAOG,KAAhC,QACH0B,EACW3B,GACVO,MAAK,SAAA+B,GACJnB,EAAWD,EAAQqB,KAAI,SAAAzC,GAAM,OAAIA,EAAOE,KAAOA,EAAKF,EAASwC,MAC7DnB,EAAWU,GACXJ,EAAkB,UAAD,OACL3B,EAAOG,OAGnBuC,YAAW,WACTf,EAAkB,QACjB,QAEJgB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAMtB,OACE,gCACA,yCACA,cAAC,EAAD,CAAc5B,QAASU,IACvB,uBAAMqB,SA7DW,SAACC,GAClBA,EAAMC,iBAMNpB,EALqB,CACnB1B,KAAMmB,EACNlB,OAAQoB,IAKTf,MAAK,SAAA+B,GACJnB,EAAWD,EAAQ8B,OAAOV,IAC1Bb,EAAkB,SAAD,OACNL,IAEXoB,YAAW,WACTf,EAAkB,QACjB,KACHJ,EAAc,IACdE,EAAa,QA2Cf,UACE,uBACE0B,MAAO7B,EACP8B,SA1CsB,SAACJ,GAC3BzB,EAAcyB,EAAMK,OAAOF,UA2CzB,uBACEA,MAAO3B,EACP4B,SA1CqB,SAACJ,GAC1BvB,EAAauB,EAAMK,OAAOF,UA2CxB,wBAAQG,KAAK,SAAb,qBAEF,8BACGlC,EAAQqB,KAAI,SAACzC,EAAQuD,GAAT,OACb,8BACE,cAAC,EAAD,CACEvD,OAAQA,EACRC,aAAcA,EACdC,GAAIF,EAAOE,MAJLqD,YCxFhBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.7ac51324.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({ person, handledelete, id }) => {\r\n  \r\n    return (\r\n      <div>\r\n        {person.name} {person.number}\r\n        <button\r\n        onClick={() => handledelete(id)}\r\n        >\r\n        Delete\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst supprimer = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, supprimer }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"success\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonService from './services/PersonService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newPersons, setNewPersons] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    PersonService\n    .getAll()\n    .then(initialNotes => {\n      setPersons(initialNotes)\n    })\n  }, [])\n\n  const addPersons = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newPersons,\n      number: newNumber,\n    }\n  \n    PersonService\n    .create(personObject)\n    .then(returnedNote => {\n      setPersons(persons.concat(returnedNote))\n      setSuccessMessage(\n        `Added ${newPersons}`\n      )\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n      setNewPersons('')\n      setNewNumber('')\n    })\n  }\n\n  const handlePersonsChange = (event) => {\n    setNewPersons(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handledelete = (id) => {\n    const people = persons.slice()\n    let index = persons.findIndex(n => n.id === id)\n    const person = persons.find(n => n.id === id) \n    if (index > -1) {\n         people.splice(index, 1)\n         if (window.confirm(`delete ${person.name} ?`)) {\n          PersonService\n          .supprimer(id)\n          .then(returnedNote => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedNote))\n            setPersons(people)\n            setSuccessMessage(\n              `Delete ${person.name}`\n            )\n            \n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error);\n          })\n        }\n       }\n       \n  }\n  return (\n    <div>\n    <h1>Persons</h1>\n    <Notification message={successMessage} />      \n    <form onSubmit={addPersons}>\n      <input\n        value={newPersons}\n        onChange={handlePersonsChange}\n      />\n      <input\n        value={newNumber}\n        onChange={handleNumberChange}\n      />\n      <button type=\"submit\">save</button>\n    </form>   \n    <div>\n      {persons.map((person, i) => \n      <div key={i}>\n        <Persons\n          person={person}\n          handledelete={handledelete}\n          id={person.id}\n        />\n      </div>\n      )}\n    </div>\n  </div>\n  )\n}\n\nexport default App ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}